PUSH 1
STORE (1) 0[CB]
JUMP FUNC_A_1_END
FUNC_A_START
LOAD (1) -2[LB]
LOAD (1) 0[CB]
STOREI (1)
RETURN (0) 0
FUNC_A_1_END
JUMP FUNC_incr_END
FUNC_incr_START
LOAD (1) -2[LB]
LOAD (1) 0[CB]
STOREI (1)
LOAD (1) -1[LB]
LOAD (1) 0[CB]
STOREI (1)
;( i  + 1)
LOAD (1) 0[CB]
LOADL 1
SUBR IAdd
LOAD (1) 0[CB]
STOREI (1)
FUNC_incr_END
PUSH 1
;Function A call
LOADL 3
LOADL 2
SUBR MAlloc
CALL (SB) FUNC_A_START
STORE (1) 1[CB]
;a.i
LOAD (1) 0[CB]
SUBR IOut
;a.i
;(a.i + 1)
LOAD (1) 0[CB]
LOADL 1
SUBR IAdd
LOADL 0
STOREI (1)
;a.i
LOAD (1) 0[CB]
SUBR IOut
;a.i
;(a.i + 1)
LOAD (1) 0[CB]
LOADL 1
SUBR IAdd
LOADL 0
STOREI (1)
;a.i
LOAD (1) 0[CB]
SUBR IOut
HALT
HALT

